{# templates/patient/serum_create.html.twig #}

{% extends 'base.html.twig' %}

{% block body %}
    <div class="container mt-4">
        <h1 class="mb-4">Create Patient with Serum</h1>

        <form method="POST" action="{{ path('serum_create') }}">
            <div class="mb-3">
                <label for="name" class="form-label">Patient Name</label>
                <input type="text" id="name" name="name" class="form-control" placeholder="Enter patient name" required>
            </div>

            <div class="mb-3">
                <label for="dni" class="form-label">DNI</label>
                <input type="text" id="dni" name="dni" class="form-control" placeholder="Enter DNI" required>
            </div>

            <div class="form-check mb-3">
                <input type="checkbox" id="custom_date" name="custom_date" class="form-check-input" onchange="toggleDateInput()">
                <label class="form-check-label" for="custom_date">Specify serum extraction date</label>
            </div>

            <div class="mb-3" id="date-group" style="display:none;">
                <label for="date" class="form-label">Serum Extraction Date</label>
                <input type="datetime-local" id="date" name="date" class="form-control">
            </div>

            <button type="submit" class="btn btn-primary">Create Patient</button>
        </form>
    </div>

    <script>
        function toggleDateInput() {
            var checkBox = document.getElementById('custom_date');
            var dateGroup = document.getElementById('date-group');
            dateGroup.style.display = checkBox.checked ? 'block' : 'none';
        }
    </script>
{% endblock %}
